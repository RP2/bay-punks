---
import Layout from "../../layouts/Layout.astro";
import ArtistDetail from "../../components/ArtistDetail";
import artists from "../../data/artists.json";

// generate all artist pages at build time
export async function getStaticPaths() {
  return artists.artists.map((artist) => ({
    params: { slug: artist.id },
    props: { artist },
  }));
}

// get the artist from props
const { artist } = Astro.props;
---

<Layout
  title={artist.name}
  description={`Upcoming shows for ${artist.name} in the Bay Area`}
>
  <div class="container mx-auto px-4 py-8">
    <div class="mb-8">
      <a
        href="/"
        class="text-muted-foreground hover:text-foreground mb-4 inline-flex items-center text-sm hover:underline"
      >
        ‚Üê Back to calendar
      </a>
      <h1 class="text-4xl font-bold">{artist.name}</h1>
    </div>

    <ArtistDetail artist={artist} client:load />
  </div>
</Layout>
