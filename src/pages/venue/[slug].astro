---
import Layout from "../../layouts/Layout.astro";
import VenueDetail from "../../components/VenueDetail";
import venues from "../../data/venues.json";

// generate all venue pages at build time
export async function getStaticPaths() {
  return venues.venues.map((venue) => ({
    params: { slug: venue.id },
    props: { venue },
  }));
}

// get the venue from props
const { venue } = Astro.props;
---

<Layout
  title={venue.name}
  description={`Show history and upcoming events at ${venue.name} in the Bay Area`}
>
  <div class="container mx-auto max-w-4xl px-4 py-8">
    <div class="mb-8">
      <a
        href="/"
        class="text-muted-foreground hover:text-foreground mb-4 inline-flex items-center text-sm hover:underline"
      >
        ‚Üê Back to calendar
      </a>
      <h1 class="text-4xl font-bold uppercase md:text-5xl">
        {venue.name}
      </h1>
    </div>

    <VenueDetail venue={venue} client:load />
  </div>
</Layout>
